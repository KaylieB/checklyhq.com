<!DOCTYPE html><html lang="en"><head><title>Quickstart | Checkly </title><meta charset="utf-8"><meta name="description" content="Checkly is the easiest way to actively monitor your API endpoints and Browser click flows from a single dashboard"><meta name="viewport" content="width=device-width" initial-scale="1" maximum-scale="1"><meta property="og:type" content="article"><meta property="og:title" content="Quickstart | Checkly "><meta property="og:description" content="Checkly is the easiest way to actively monitor your API endpoints and Browser click flows from a single dashboard"><meta property="og:image" content="https://checklyhq.com/images/dashboard-screen@2x.png"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="Quickstart | Checkly "><meta property="twitter:description" content="Checkly is the easiest way to actively monitor your API endpoints and Browser click flows from a single dashboard"><meta property="twitter:image" content="https://checklyhq.com/images/dashboard-screen@2x.png"><link rel="icon" type="image/png" href="/images/racoon_favicon.png"><link rel="alternate" href="https://checklyhq.com" hreflang="en-us"><link rel="canonical" href="https://checklyhq.com"><link rel="stylesheet" href="/css/style.css"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-110523681-1"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-110523681-1');
  
  gtag('config', 'UA-110523681-1', { 'optimize_id': 'GTM-PNWRVST'});
</script><style>.async-hide { opacity: 0 !important}</style><script>if (location.host === 'checklyhq.com') {
 (function(a,s,y,n,c,h,i,d,e){s.className+=' ' + y;h.start=1*new Date;
 h.end=i = function () {
   s.className = s.className.replace(RegExp(' ?' + y), '')
 };
 (a[n]=a[n] || []).hide=h;setTimeout(function(){i();h.end=null},c);h.timeout=c;
 })(window,document.documentElement,'async-hide','dataLayer',4000,
 {'GTM-PNWRVST':true});
}</script><script>if (location.host === 'checklyhq.com') {
 (function(h,o,t,j,a,r){
 h.hj=h.hj || function () {
   (h.hj.q = h.hj.q || []).push(arguments)
 };
 h._hjSettings={hjid: 717179, hjsv: 6};
 a=o.getElementsByTagName('head')[0];
 r=o.createElement('script');r.async=1;
 r.src=t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
 a.appendChild(r);
 })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
}</script><script>if (location.host === 'checklyhq.com') {
  window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=(r?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n);for(var o=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","removeEventProperty","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=o(p[c])};
  heap.load("3553865455");
}</script></head></html><body><nav class="navbar navbar-toggleable-sm fixed-top"><div class="container px-0"><button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"><span></span><span></span><span></span></button><a class="navbar-brand" href="/"><img src="/images/text_racoon_logo.svg" width="120"><p class="beta">beta!</p></a><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto"><li class="nav-item"><a class="nav-link" href="/pricing">Pricing</a></li><li class="nav-item"><a class="nav-link" href="/docs">Docs</a></li><li class="nav-item"><a class="nav-link" href="/whats-new">What's new</a></li></ul><form class="form-inline my-2 my-lg-0 ml-md-3"><a class="btn btn-outline-secondary my-2 my-sm-0 mr-3 ml-md-3" href="https://app.checklyhq.com/login">Log in</a><a class="btn btn-success my-2 my-sm-0" href="https://app.checklyhq.com/signup">Start a free trial</a></form></div></div></nav><div class="main docs"><div class="container"><div class="row"><div class="col-sm-3"><ul class="sidebar-menu">

<li class="sidebar-menu-item"><h3>API Checks</h3><ul class="sidebar-menu-sub">
<li class="sidebar-menu-sub-item "><a href="/docs/api-checks/getting-started/">Quickstart</a></li>
</ul></li>

<li class="sidebar-menu-item"><h3>Browser Checks</h3><ul class="sidebar-menu-sub">
<li class="sidebar-menu-sub-item active"><a href="/docs/browser-checks/quickstart/">Quickstart</a></li><div class="side-bar-menu-toc"><span><nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#what-is-a-browser-check">What is a browser check?</a></li>
<li><a href="#how-do-i-create-a-browser-check">How do I create a browser check?</a></li>
<li><a href="#run-a-script-on-your-local-machine">Run a script on your local machine</a></li>
<li><a href="#analysing-the-browser-check">Analysing the browser check</a></li>
</ul></li>
</ul>
</nav></span></div>

<li class="sidebar-menu-sub-item "><a href="/docs/browser-checks/screenshots/">Taking screenshots</a></li>

<li class="sidebar-menu-sub-item "><a href="/docs/browser-checks/timeouts/">Timeouts</a></li>

<li class="sidebar-menu-sub-item "><a href="/docs/browser-checks/runner-specification/">Runner specification</a></li>
</ul></li>

<li class="sidebar-menu-item"><h3>Alerting</h3><ul class="sidebar-menu-sub">
<li class="sidebar-menu-sub-item "><a href="/docs/alerting/settings/">General settings</a></li>
</ul></li>
</div><div class="col-sm-9"><div class="markdown py-3"><h1>Quickstart</h1><span>

<p>This quick start should give you all the info to create your first browser check with Checkly. You should have some prior
knowledge worker with Javascript and/or Node.js.</p>

<h2 id="what-is-a-browser-check">What is a browser check?</h2>

<p>A browser check is a Node.js script that starts up a Chrome browser, loads a web page and interacts with that web page.
The script validates assumptions you have about that web page, for instance:</p>

<ul>
<li>Is my shopping cart visible?</li>
<li>Can users add products to the shopping cart?</li>
<li>Can users log in to my app?</li>
</ul>

<h2 id="how-do-i-create-a-browser-check">How do I create a browser check?</h2>

<p>You create these scripts by writing Node.js / Javascript code, leveraging three widely used libraries that each have a
specific function:</p>

<ol>
<li><strong><a href="https://mochajs.org/">Mocha</a></strong>: Mocha is a widely used Javascript test runner. Mocha allows you to order and execute
tests and collect the results of those tests.</li>
<li><strong><a href="https://nodejs.org/api/assert.html">Assert</a></strong>: The Assert library is built into Node.js and helps you assert (hey!)
if things are true, false, more than, less than etc. You use assert in combination with Mocha to validate the actual
values in your test.</li>
<li><strong><a href="https://github.com/GoogleChrome/puppeteer">Puppeteer</a></strong>: Puppeteer is a Javascript framework that &ldquo;talks&rdquo; to a
Google Chrome browser. You use the Puppeteer framework to control the interactions you want to happen on a web page.</li>
</ol>

<h2 id="run-a-script-on-your-local-machine">Run a script on your local machine</h2>

<p>We&rsquo;ve created a Github repo you can clone run from you local machine to get a feel for writing browser checks.
Clone the <a href="https://github.com/checkly/browser-checks-starter.git">checkly/browser-checks-starter</a> repo and run the provided example.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">git clone https://github.com/checkly/browser-checks-starter.git
<span class="nb">cd</span> browser-checks-starter
npm install
mocha check_duckduckgo.js</code></pre></div>
<p>The result should look something like this, if you are working on a Mac or on Linux.</p>


<script type="text/javascript" src="https://asciinema.org/a/f3F570OMM20PnEFvSbttfFbTu.js" id="asciicast-f3F570OMM20PnEFvSbttfFbTu" data-size="small" async></script>


<h2 id="analysing-the-browser-check">Analysing the browser check</h2>

<p>The piece of code you just ran is a fully featured browser check. You can copy and paste it into Checkly and it would
check the search results of Duck Duck Go search every x minutes.
Let&rsquo;s step through the code step by step</p>

<p><strong>1. Initial declarations:</strong> We first import Assert and Puppeteer libraries. We also declare a &ldquo;browser&rdquo; and &ldquo;page&rdquo; variable
using &ldquo;let&rdquo;.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="k">const</span> <span class="nx">assert</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;assert&#39;</span><span class="p">)</span>
<span class="k">const</span> <span class="nx">puppeteer</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;puppeteer&#39;</span><span class="p">)</span>

<span class="kd">let</span> <span class="nx">browser</span>
<span class="kd">let</span> <span class="nx">page</span>
</code></pre></div>
<p><strong>2. Before hook:</strong> Inside the Mocha <code>before</code> hook, we launch a browser and a new browser page, which is like a normal browser
tab. We do this inside the <code>before</code> hook because we always want this initialization to happen before any checks are done.
Also notice the use of the async/await syntax.</p>

<p>Almost everything in the Puppeteer framework is asynchronous: using this syntax saves us from using callbacks or promise chains.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">before</span><span class="p">(</span><span class="kr">async</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">browser</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">puppeteer</span><span class="p">.</span><span class="nx">launch</span><span class="p">()</span>
  <span class="nx">page</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">browser</span><span class="p">.</span><span class="nx">newPage</span><span class="p">()</span>
<span class="p">})</span>
</code></pre></div>
<p><strong>3. Create a test suite and test case:</strong> We create a Mocha test suite and test case using the <code>describe</code> and <code>it</code> syntax.
The <code>describe</code> is strictly speaking not necessary, but it helps us organise test cases if multiple tests belong together.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;Duck Duck Go Search&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;returns Chrome Puppeteer Github repo as first search result&#39;</span><span class="p">,</span> <span class="kr">async</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</code></pre></div>
<p><strong>4. Search for a term:</strong> There&rsquo;s a lot going on here:</p>

<ul>
<li>We request the Duck Duck Go site and wait till the page is loaded and most network activity has died down. This is the
extra <code>waitUntil</code> option.</li>
<li>We type the sentence &ldquo;chrome puppeteer&rdquo; into the input box that has the HTML id attribute <code>search_form_input_homepage</code></li>
<li>Then we click on the button with the id <code>search_button_homepage</code>. This kicks of the search!</li>
<li>Lastly, we wait until the results page has loaded and the element with id <code>r1-0</code> has loaded.</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js">    <span class="kr">await</span> <span class="nx">page</span><span class="p">.</span><span class="kr">goto</span><span class="p">(</span><span class="s1">&#39;https://duckduckgo.com/&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">waitUntil</span><span class="o">:</span> <span class="s1">&#39;networkidle2&#39;</span> <span class="p">})</span>
    <span class="kr">await</span> <span class="nx">page</span><span class="p">.</span><span class="nx">type</span><span class="p">(</span><span class="s1">&#39;input#search_form_input_homepage&#39;</span><span class="p">,</span> <span class="s1">&#39;chrome puppeteer&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">delay</span><span class="o">:</span> <span class="mi">50</span> <span class="p">})</span>
    <span class="kr">await</span> <span class="nx">page</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="s1">&#39;input#search_button_homepage&#39;</span><span class="p">)</span>
    <span class="kr">await</span> <span class="nx">page</span><span class="p">.</span><span class="nx">waitForSelector</span><span class="p">(</span><span class="s1">&#39;.results--main #r1-0&#39;</span><span class="p">)</span>
</code></pre></div>
<p><strong>5. Validate the results:</strong> We now have a page with search results. To check if the results are as expected, we do two
things:</p>

<ol>
<li>We parse the link from the first result using the <code>page.evaluate</code> function. This executes a piece of code in the context
of the results page. In this case we grab the first anchor tag <code>a</code> with CSS class <code>result__a</code>. We&rsquo;re interest in the contents
of that element. For good measure we trim off any leading or trailing spaces.</li>
<li>Using the assert function, we check if the link is what we expect it to be. If this fails, our check fails.</li>
</ol>

<p>For good measure, we also take a screen shot of the current page. This always helps when debugging.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js">    <span class="k">const</span> <span class="nx">githubLink</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">page</span><span class="p">.</span><span class="nx">evaluate</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;a.result__a&#39;</span><span class="p">).</span><span class="nx">textContent</span><span class="p">.</span><span class="nx">trim</span><span class="p">())</span>
    <span class="nx">assert</span><span class="p">(</span><span class="nx">githubLink</span><span class="p">,</span> <span class="s1">&#39;https://github.com/GoogleChrome/puppeteer&#39;</span><span class="p">)</span>
    <span class="kr">await</span> <span class="nx">page</span><span class="p">.</span><span class="nx">screenshot</span><span class="p">({</span> <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;duckduckgo.png&#39;</span> <span class="p">})</span>
  <span class="p">}).</span><span class="nx">timeout</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span>
<span class="p">})</span>
</code></pre></div>
<p><strong>6. After hook:</strong> We clean up the browser in the Mocha <code>after</code> hook. This makes sure our checks ends the instant all test
cases are done.</p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">after</span><span class="p">(</span><span class="kr">async</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="kr">await</span> <span class="nx">browser</span><span class="p">.</span><span class="nx">close</span><span class="p">()</span>
<span class="p">})</span>
</code></pre></div>
<div class="alert alert-info">You can find a ton more Puppeteer and Mocha examples in the dedicated Github repo <a href="https://github.com/checkly/puppeteer-examples">checkly/puppeteer-examples</a></div>

</span></div><hr class="my-4"><p>Last updated on March 23, 2018</p></div></div></div></div><footer class="footer"><div class="container"><div class="row footer-top"><div class="col-sm-2"><div class="mb-3 mb-md-0"><img src="/images/text_racoon_logo.svg" width="100px"></div></div><div class="col-sm-2"><div class="mb-3 mb-md-0"><h6>Product</h6><ul><li><a href="/pricing">Pricing</a></li><li><a href="/docs">Docs</a></li></ul></div></div><div class="col-sm-2"><div class="mb-3 mb-md-0"><h6>Company</h6><ul><li><a href="/support">Support</a></li><li><a href="/privacy">Privacy policy</a></li></ul></div></div><div class="col-sm-6"><h6>Get on topic product info and updates</h6><div id="mc_embed_signup"><form class="form-inline validate" action="https://run.us15.list-manage.com/subscribe/post?u=9af9712f622c6511cb2113669&amp;amp;id=adb061483c" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" target="_blank" novalidate><input class="form-control email-address-input mb-3 mb-md-0 mr-md-2" type="email" value="" name="EMAIL" width="280px" id="mce-EMAIL" placeholder="Email address"><button class="btn btn-primary submit-button button" type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe">Subscribe</button><div class="clear" id="mce-responses"><div class="response" id="mce-error-response" style="display:none;"></div><div class="response" id="mce-success-response" style="display:none;"></div></div><div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_9af9712f622c6511cb2113669_adb061483c" tabindex="-1" value=""></div></form></div><div class="pt-2 text-muted"><small>no spam - unsubscribe anytime</small></div></div></div><div class="row footer-bottom"><div class="col-12"><span>Checkly · Paul-Lincke-Ufer 30, 10999, Berlin · Copyright © 2018</span><div class="float-right"><a class="mr-3" href="https://heapanalytics.com/?utm_source=badge" rel="nofollow"><img style="width:108px;height:41px;" src="//heapanalytics.com/img/badgeLight.png" alt="Heap | Mobile and Web Analytics"></a><a href="https://twitter.com/checklyhq" target="_blank"><img src="/images/twitter.svg"></a></div></div></div></div></footer><script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script><script src="/js/index.js"></script><div></div></body>