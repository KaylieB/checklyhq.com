<!DOCTYPE html>
<html lang="en">
<head>
  <head>
  <title>Environment variables | Checkly </title>
  <meta charset="utf-8" />
  <meta name="description" content="When creating browser checks, you probably run some code locally, store it in a Git repo or copy and paste it around a bit. This means the credentials in the script are at risk of being exposed.
You should therefore replace any confidential data in your browser check scripts with environment variables.
Managing variables For browser checks, you can create environment variables at two hierarchical levels:
 Local or check level: Global level  Local variables are added on the Variables tab for each browser check." />
  <meta name="viewport" content="width=device-width" initial-scale="1" maximum-scale="1" />
  <meta property="og:type" content="article" />
  <meta property="og:title" content="Environment variables | Checkly " />
  <meta property="og:description" content="When creating browser checks, you probably run some code locally, store it in a Git repo or copy and paste it around a bit. This means the credentials in the script are at risk of being exposed.
You should therefore replace any confidential data in your browser check scripts with environment variables.
Managing variables For browser checks, you can create environment variables at two hierarchical levels:
 Local or check level: Global level  Local variables are added on the Variables tab for each browser check." />
  <meta property="og:type" content="article" />
  <meta property="og:image" content="https://checklyhq.com/images/dashboard-screen@2x.png" />
  <meta property="twitter:card" content="summary" />
  <meta property="twitter:title" content="Environment variables | Checkly " />
  <meta property="twitter:description" content="When creating browser checks, you probably run some code locally, store it in a Git repo or copy and paste it around a bit. This means the credentials in the script are at risk of being exposed.
You should therefore replace any confidential data in your browser check scripts with environment variables.
Managing variables For browser checks, you can create environment variables at two hierarchical levels:
 Local or check level: Global level  Local variables are added on the Variables tab for each browser check." />
  <meta property="og:image" content="https://checklyhq.com/images/dashboard-screen@2x.png" />
  <meta name="msvalidate.01" content="36F243A91FAA24DE468D8A8EECF33554" />
  <link rel="icon" type="image/png" href="/images/racoon_favicon.3c48bb28.png" />
  <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/>
  <link rel="alternate" href="https://checklyhq.com/docs/browser-checks/variables/" hreflang="en-us" />
  <link rel="canonical" href="https://checklyhq.com/docs/browser-checks/variables/" />
  <link rel="stylesheet" href="/css/style.e5e1af43.css" />
  <script async src="https://cdn.cookielaw.org/consent/e4c8a868-c0ad-4c0c-b61e-f6eb6cad2810.js" type="text/javascript" charset="UTF-8"></script>
  <script type="text/javascript">
    function OptanonWrapper() {}
  </script>
  <style>
    .qc-cmp-ui {
      background-color: #45c8f1 !important;
    }

    .qc-cmp-publisher-purposes-table .qc-cmp-table-header {
      background-color: #fafafa !important;
    }

    .qc-cmp-publisher-purposes-table .qc-cmp-table-row {
      background-color: #ffffff !important;
    }
  </style>
  
  <script type="text/plain" async src="https://www.googletagmanager.com/gtag/js?id=UA-110523681-1" class="optanon-category-2"></script>
  <script type="text/plain" async class="optanon-category-2">
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('config', 'UA-110523681-1');
  </script>
  
  <script>
    window.intercomSettings = {
      app_id: 'ep3ft8gg',
      custom_launcher_selector: '.open-intercom-link'
    }
  </script>
  <script async class="optanon-category-2">(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/ep3ft8gg';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();</script>

  <script type="text/javascript" class="optanon-category-2">
    window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=(r?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n);for(var o=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","resetIdentity","removeEventProperty","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=o(p[c])};
    heap.load("3553865455");
  </script>

  
  <script type="text/javascript" class="optanon-category-2">
    (function(h,o,t,j,a,r){
      h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
      h._hjSettings={hjid:717179,hjsv:6};
      a=o.getElementsByTagName('head')[0];
      r=o.createElement('script');r.async=1;
      r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
      a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
  </script>
</head>

</head>

<body>
  <nav class="navbar navbar-toggleable-md fixed-top">
  <div class="container">
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"><span></span><span></span><span></span></button>
    <a class="navbar-brand mr-2" href="/"><img src="/images/text_racoon_logo.afa37391.svg" width="120" alt="checkly logo"/></a><a
      class="callout" href="/jobs">We're hiring!</a>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" data-toggle="dropdown"
                                         id="navbarDropdownMenuLink" href="#">Product</a>
          <div class="dropdown-menu big-drop-shadow product-dropdown"><a class="dropdown-item"
                                                                         href="/product/api-monitoring/">API
            Monitoring</a><a class="dropdown-item" href="/product/transaction-monitoring/">Site Transaction
            Monitoring</a><a class="dropdown-item" href="/product/alerting/">Alerting</a></div>
        </li>
        <li class="nav-item"><a class="nav-link" href="/pricing">Pricing</a></li>
        <li class="nav-item"><a class="nav-link" href="/docs">Docs</a></li>
        <li class="nav-item"><a class="nav-link" href="https://blog.checklyhq.com" target="_blank">Blog</a></li>
        
          <form class="form-inline">
            <input class="form-control py-2" id="search" type="search" placeholder="Search the docs..."/>
          </form>
        
      </ul>
    </div>
  </div>
</nav>

  
  <div class="d-flex container-fluid docs">
    <aside class="docs-menu">
  <nav>
    <a
        class="api-reference-link"
        href="/docs/api"
        target="_blank">API reference
      <div class="badge badge-accent badge-sm ml-2">beta</div></a>
    <ul class="docs-menu-content">
        
      <li class="docs-menu-item">
        <div class="docs-menu-title">Monitoring</div>
        <ul class="docs-menu-sub">
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/monitoring/">
              How we run checks
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/monitoring/global-locations/">
              Global locations
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/monitoring/how-we-store-data/">
              How we store data
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/monitoring/storing-secrets/">
              Storing secrets
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/monitoring/white-listing/">
              White listing &amp; filtering traffic
            </a>
          </li>
          
        </ul>
      </li>
        
      <li class="docs-menu-item">
        <div class="docs-menu-title">API Checks</div>
        <ul class="docs-menu-sub">
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/api-checks/">
              Overview
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/api-checks/request-settings/">
              HTTP request settings
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/api-checks/variables/">
              Environment variables
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/api-checks/assertions/">
              Assertions
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/api-checks/limits/">
              Response time limits
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/api-checks/setup-teardown-scripts/">
              Setup &amp; teardown scripts
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/api-checks/timouts-timing/">
              Timeouts and timing phases
            </a>
          </li>
          
        </ul>
      </li>
        
      <li class="docs-menu-item">
        <div class="docs-menu-title">Browser Checks</div>
        <ul class="docs-menu-sub">
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/browser-checks/">
              Quickstart
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/browser-checks/scraping-onpage-elements/">
              Scraping &amp; asserting on page elements
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/browser-checks/screenshots/">
              Taking screenshots
            </a>
          </li>
           
          <li class="docs-menu-sub-item active">
            <a href="/docs/browser-checks/variables/">
              Environment variables
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/browser-checks/login-scenarios/">
              Login scenarios
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/browser-checks/partials-code-snippets/">
              Partials and code snippets
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/browser-checks/using-mocha/">
              Using Mocha with Puppeteer
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/browser-checks/timeouts/">
              Timeouts
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/browser-checks/responsible-use/">
              Responsible use
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/browser-checks/runner-specification/">
              Runner specification
            </a>
          </li>
          
        </ul>
      </li>
        
      <li class="docs-menu-item">
        <div class="docs-menu-title">Alerting</div>
        <ul class="docs-menu-sub">
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/alerting/">
              Alert settings
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/alerting/alert-channels/">
              Alert channels
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/alerting/alert-states/">
              Alert states
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/alerting/ssl-expiration/">
              SSL certificate expiration
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/alerting/sms-delivery/">
              SMS delivery
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/alerting/webhooks/">
              Webhooks
            </a>
          </li>
          
        </ul>
      </li>
        
      <li class="docs-menu-item">
        <div class="docs-menu-title">CI/CD integration</div>
        <ul class="docs-menu-sub">
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/cicd/github/">
              Github deployments
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/cicd/triggers/">
              Command Line triggers
            </a>
          </li>
          
        </ul>
      </li>
        
      <li class="docs-menu-item">
        <div class="docs-menu-title">Dashboards</div>
        <ul class="docs-menu-sub">
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/dashboards/">
              Url and Custom Domain
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/dashboards/dashboard-look-feel/">
              Look &amp; feel
            </a>
          </li>
          
        </ul>
      </li>
        
      <li class="docs-menu-item">
        <div class="docs-menu-title">Teams</div>
        <ul class="docs-menu-sub">
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/teams/">
              Adding team members
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/teams/about-roles/">
              About roles
            </a>
          </li>
          
        </ul>
      </li>
        
      <li class="docs-menu-item">
        <div class="docs-menu-title">Integrations</div>
        <ul class="docs-menu-sub">
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/integrations/pagerduty/">
              Pagerduty
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/integrations/prometheus/">
              Prometheus
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/integrations/github/">
              Github
            </a>
          </li>
          
        </ul>
      </li>
        
      <li class="docs-menu-item">
        <div class="docs-menu-title">Puppeteer Recorder</div>
        <ul class="docs-menu-sub">
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/puppeteer-recorder/">
              Overview
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/puppeteer-recorder/installation/">
              Installation
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/puppeteer-recorder/basic-usage/">
              Basic Usage
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/puppeteer-recorder/development/">
              Development
            </a>
          </li>
          
        </ul>
      </li>
       
    </ul>
  </nav>

  
  <script>
    (function () {
      var menu = document.querySelector('aside.docs-menu nav')
  addEventListener('beforeunload', function () {
        localStorage.setItem('menu.scrollTop', menu.scrollTop)
  })
  menu.scrollTop = localStorage.getItem('menu.scrollTop')
})()
  </script>

</aside>



    <div class="docs-page">
      <article class="markdown">
        <h1>Environment variables</h1>
        
        <div class="docs-toc-mobile">
          <nav id="TableOfContents">
  <ul>
    <li><a href="#managing-variables">Managing variables</a></li>
    <li><a href="#accessing-variables">Accessing variables</a></li>
    <li><a href="#variable-hierarchy">Variable hierarchy</a></li>
  </ul>
</nav>
        </div>
        <p>When creating browser checks, you probably run some code locally, store it in a Git repo or copy and paste it around
a bit. This means the credentials in the script are at risk of being exposed.<br>
You should therefore <strong>replace any confidential data in your browser check scripts with environment variables.</strong></p>
<h2 id="managing-variables">Managing variables</h2>
<p>For browser checks, you can create environment variables at two hierarchical levels:</p>
<ul>
<li><strong>Local</strong> or check level:</li>
<li><strong>Global</strong> level</li>
</ul>
<p>Local variables are added on the <strong>Variables</strong> tab for each browser check. Any data you &ldquo;lock&rdquo; is
encrypted at rest and in flight on our back end and is only decrypted when needed.</p>
<p><img src="/docs/images/browser-checks/add-local-variable.cffa3d58.png" alt="add local variables"></p>
<p>Global variables are added on the <strong>Variables</strong> tab in the <strong>Account</strong> section. The variables stored here are globally accessible
throughout Checkly, hence the &ldquo;Global environment variables&rdquo; title*.</p>
<p><img src="/docs/images/api-checks/add-variables.c37d7660.png" alt="add global variables"></p>
<div class="alert alert-info">Whenever possible, store variables at the global level. This DRY's up your code.</div>

<h2 id="accessing-variables">Accessing variables</h2>
<p>Both local and global environment variables are accessible in your code using the standard Node.js <code>process.env.MY_VAR</code> notation.
For example, the code snippet below show how you can log into Github. We have more <a href="/docs/browser-checks/login-scenarios/">examples of login scenarios on this page.</a></p>
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">browser</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">puppeteer</span><span class="p">.</span><span class="nx">launch</span><span class="p">(</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">page</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">browser</span><span class="p">.</span><span class="nx">newPage</span><span class="p">(</span><span class="p">)</span>
<span class="nx">await</span> <span class="nx">page</span><span class="p">.</span><span class="kr">goto</span><span class="p">(</span><span class="s1">&#39;https://github.com/login&#39;</span><span class="p">)</span>
<span class="nx">await</span> <span class="nx">page</span><span class="p">.</span><span class="nx">type</span><span class="p">(</span><span class="s1">&#39;#login_field&#39;</span><span class="p">,</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">GITHUB_USER</span><span class="p">)</span>
<span class="nx">await</span> <span class="nx">page</span><span class="p">.</span><span class="nx">type</span><span class="p">(</span><span class="s1">&#39;#password&#39;</span><span class="p">,</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">GITHUB_PWD</span><span class="p">)</span>
<span class="nx">await</span> <span class="nx">page</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="s1">&#39;[name=&#34;commit&#34;]&#39;</span><span class="p">)</span>
<span class="nx">browser</span><span class="p">.</span><span class="nx">close</span><span class="p">(</span><span class="p">)</span>
</code></pre></div><blockquote>
<p>You can access the current data center location using the implicit <code>process.env.REGION</code> variable. This resolve to the AWS region name, i.e. &lsquo;us-east-1&rsquo;</p>
</blockquote>
<h2 id="variable-hierarchy">Variable hierarchy</h2>
<p>As browser checks are scheduled, Checkly merges the local and global environment variables into one data set and exposes them
to the runtime environment. During merging, any local variable with the same name as a global variable <strong>overrides the global variable.</strong></p>
<p>Or in another words, local variables trump global variables.</p>
<p>You can make use of this by providing a default value for a specific variable at the global level, but allow that variable to
be overridden at the local level.</p>
</article>
      <hr class="pt-2 mb-2" />
      
      <div class="text-right mb-4">
        <a href="https://checklyhq.com/docs/browser-checks/login-scenarios/">Next: Login scenarios
        </a>
      </div>
      
    </div>
    
    <aside class="docs-toc">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#managing-variables">Managing variables</a></li>
    <li><a href="#accessing-variables">Accessing variables</a></li>
    <li><a href="#variable-hierarchy">Variable hierarchy</a></li>
  </ul>
</nav>
    </aside>
    
  </div>

  
<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js"
        integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"
        integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb"
        crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js"
        integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script src="/js/index.9773e75c.js"></script>

  <script>
    docsearch({
      apiKey: 'b2b616fdea14b860ff00c72fa72bf267',
      indexName: 'checkly_docs',
      appId: 'LCMJSZN73Z',
      inputSelector: '#search',
      debug: false
    })
  </script>
</body>
</html>
