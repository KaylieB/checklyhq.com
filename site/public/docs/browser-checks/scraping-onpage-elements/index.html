<!DOCTYPE html>
<html lang="en">
<head>
  <head>
  <title>Scraping &amp; asserting on page elements | Checkly </title>
  <meta charset="utf-8" />
  <meta name="description" content="How to scrape web page elements like texts, buttons and forms with Google Chrome Puppeteer." />
  <meta name="viewport" content="width=device-width" initial-scale="1" maximum-scale="1" />
  <meta property="og:type" content="article" />
  <meta property="og:title" content="Scraping &amp; asserting on page elements | Checkly " />
  <meta property="og:description" content="How to scrape web page elements like texts, buttons and forms with Google Chrome Puppeteer." />
  <meta property="og:type" content="article" />
  <meta property="og:image" content="https://checklyhq.com/images/dashboard-screen@2x.png" />
  <meta property="twitter:card" content="summary" />
  <meta property="twitter:title" content="Scraping &amp; asserting on page elements | Checkly " />
  <meta property="twitter:description" content="How to scrape web page elements like texts, buttons and forms with Google Chrome Puppeteer." />
  <meta property="og:image" content="https://checklyhq.com/images/dashboard-screen@2x.png" />
  <meta name="msvalidate.01" content="36F243A91FAA24DE468D8A8EECF33554" />
  <link rel="icon" type="image/png" href="/images/racoon_favicon.png" />
  <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/>
  <link rel="alternate" href="https://checklyhq.com/docs/browser-checks/scraping-onpage-elements/" hreflang="en-us" />
  <link rel="canonical" href="https://checklyhq.com/docs/browser-checks/scraping-onpage-elements/" />
  <link rel="stylesheet" href="/css/style.css" />
  <script async src="https://cdn.cookielaw.org/consent/e4c8a868-c0ad-4c0c-b61e-f6eb6cad2810.js" type="text/javascript" charset="UTF-8"></script>
  <script type="text/javascript">
    function OptanonWrapper() {}
  </script>
  <style>
    .qc-cmp-ui {
      background-color: #45c8f1 !important;
    }

    .qc-cmp-publisher-purposes-table .qc-cmp-table-header {
      background-color: #fafafa !important;
    }

    .qc-cmp-publisher-purposes-table .qc-cmp-table-row {
      background-color: #ffffff !important;
    }
  </style>
  
  <script type="text/plain" async src="https://www.googletagmanager.com/gtag/js?id=UA-110523681-1" class="optanon-category-2"></script>
  <script type="text/plain" async class="optanon-category-2">
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('config', 'UA-110523681-1');
  </script>
  
  <script>
    window.intercomSettings = {
      app_id: 'ep3ft8gg',
      custom_launcher_selector: '.open-intercom-link'
    }
  </script>
  <script async class="optanon-category-2">(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/ep3ft8gg';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();</script>

  <script type="text/javascript" class="optanon-category-2">
    window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=(r?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n);for(var o=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","resetIdentity","removeEventProperty","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=o(p[c])};
    heap.load("3553865455");
  </script>

  
  <script type="text/javascript" class="optanon-category-2">
    (function(h,o,t,j,a,r){
      h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
      h._hjSettings={hjid:717179,hjsv:6};
      a=o.getElementsByTagName('head')[0];
      r=o.createElement('script');r.async=1;
      r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
      a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
  </script>
</head>

</head>

<body>
  <nav class="navbar navbar-toggleable-md fixed-top">
  <div class="container">
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"><span></span><span></span><span></span></button>
    <a class="navbar-brand mr-2" href="/"><img src="/images/text_racoon_logo.svg" width="120" alt="checkly logo"/></a><a
      class="callout" href="/jobs">We're hiring!</a>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" data-toggle="dropdown"
                                         id="navbarDropdownMenuLink" href="#">Product</a>
          <div class="dropdown-menu big-drop-shadow product-dropdown"><a class="dropdown-item"
                                                                         href="/product/api-monitoring/">API
            Monitoring</a><a class="dropdown-item" href="/product/transaction-monitoring/">Site Transaction
            Monitoring</a><a class="dropdown-item" href="/product/alerting/">Alerting</a></div>
        </li>
        <li class="nav-item"><a class="nav-link" href="/pricing">Pricing</a></li>
        <li class="nav-item"><a class="nav-link" href="/docs">Docs</a></li>
        <li class="nav-item"><a class="nav-link" href="https://blog.checklyhq.com" target="_blank">Blog</a></li>
        
          <form class="form-inline">
            <input class="form-control py-2" id="search" type="search" placeholder="Search the docs..."/>
          </form>
        
      </ul>
    </div>
  </div>
</nav>

  
  <div class="d-flex container-fluid docs">
    <aside class="docs-menu">
  <nav>
    <a
        class="api-reference-link"
        href="/docs/api"
        target="_blank">API reference
      <div class="badge badge-accent badge-sm ml-2">beta</div></a>
    <ul class="docs-menu-content">
        
      <li class="docs-menu-item">
        <div class="docs-menu-title">Monitoring</div>
        <ul class="docs-menu-sub">
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/monitoring/">
              How we run checks
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/monitoring/global-locations/">
              Global locations
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/monitoring/how-we-store-data/">
              How we store data
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/monitoring/storing-secrets/">
              Storing secrets
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/monitoring/white-listing/">
              White listing &amp; filtering traffic
            </a>
          </li>
          
        </ul>
      </li>
        
      <li class="docs-menu-item">
        <div class="docs-menu-title">API Checks</div>
        <ul class="docs-menu-sub">
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/api-checks/">
              Overview
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/api-checks/request-settings/">
              HTTP request settings
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/api-checks/variables/">
              Environment variables
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/api-checks/assertions/">
              Assertions
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/api-checks/limits/">
              Response time limits
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/api-checks/setup-teardown-scripts/">
              Setup &amp; teardown scripts
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/api-checks/timouts-timing/">
              Timeouts and timing phases
            </a>
          </li>
          
        </ul>
      </li>
        
      <li class="docs-menu-item">
        <div class="docs-menu-title">Browser Checks</div>
        <ul class="docs-menu-sub">
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/browser-checks/">
              Quickstart
            </a>
          </li>
           
          <li class="docs-menu-sub-item active">
            <a href="/docs/browser-checks/scraping-onpage-elements/">
              Scraping &amp; asserting on page elements
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/browser-checks/screenshots/">
              Taking screenshots
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/browser-checks/variables/">
              Environment variables
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/browser-checks/login-scenarios/">
              Login scenarios
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/browser-checks/partials-code-snippets/">
              Partials and code snippets
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/browser-checks/using-mocha/">
              Using Mocha with Puppeteer
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/browser-checks/timeouts/">
              Timeouts
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/browser-checks/responsible-use/">
              Responsible use
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/browser-checks/runner-specification/">
              Runner specification
            </a>
          </li>
          
        </ul>
      </li>
        
      <li class="docs-menu-item">
        <div class="docs-menu-title">Alerting</div>
        <ul class="docs-menu-sub">
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/alerting/">
              Alert settings
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/alerting/alert-channels/">
              Alert channels
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/alerting/alert-states/">
              Alert states
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/alerting/ssl-expiration/">
              SSL certificate expiration
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/alerting/sms-delivery/">
              SMS delivery
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/alerting/webhooks/">
              Webhooks
            </a>
          </li>
          
        </ul>
      </li>
        
      <li class="docs-menu-item">
        <div class="docs-menu-title">CI/CD integration</div>
        <ul class="docs-menu-sub">
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/cicd/github/">
              Github deployments
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/cicd/triggers/">
              Command Line triggers
            </a>
          </li>
          
        </ul>
      </li>
        
      <li class="docs-menu-item">
        <div class="docs-menu-title">Dashboards</div>
        <ul class="docs-menu-sub">
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/dashboards/">
              Url and Custom Domain
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/dashboards/dashboard-look-feel/">
              Look &amp; feel
            </a>
          </li>
          
        </ul>
      </li>
        
      <li class="docs-menu-item">
        <div class="docs-menu-title">Teams</div>
        <ul class="docs-menu-sub">
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/teams/">
              Adding team members
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/teams/about-roles/">
              About roles
            </a>
          </li>
          
        </ul>
      </li>
        
      <li class="docs-menu-item">
        <div class="docs-menu-title">Integrations</div>
        <ul class="docs-menu-sub">
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/integrations/pagerduty/">
              Pagerduty
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/integrations/prometheus/">
              Prometheus
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/integrations/github/">
              Github
            </a>
          </li>
          
        </ul>
      </li>
        
      <li class="docs-menu-item">
        <div class="docs-menu-title">Puppeteer Recorder</div>
        <ul class="docs-menu-sub">
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/puppeteer-recorder/">
              Overview
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/puppeteer-recorder/installation/">
              Installation
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/puppeteer-recorder/basic-usage/">
              Basic Usage
            </a>
          </li>
           
          <li class="docs-menu-sub-item ">
            <a href="/docs/puppeteer-recorder/development/">
              Development
            </a>
          </li>
          
        </ul>
      </li>
       
    </ul>
  </nav>

  
  <script>
    (function () {
      var menu = document.querySelector('aside.docs-menu nav')
  addEventListener('beforeunload', function () {
        localStorage.setItem('menu.scrollTop', menu.scrollTop)
  })
  menu.scrollTop = localStorage.getItem('menu.scrollTop')
})()
  </script>

</aside>



    <div class="docs-page">
      <article class="markdown">
        <h1>Scraping &amp; asserting on page elements</h1>
        
        <div class="docs-toc-mobile">
          <nav id="TableOfContents">
  <ul>
    <li><a href="#scraping-text-values">Scraping text values</a></li>
    <li><a href="#scraping-a-list-of-values">Scraping a list of values</a></li>
    <li><a href="#scraping-form-input-elements">Scraping form input elements</a>
      <ul>
        <li><a href="#text-input-fields">Text input fields</a></li>
        <li><a href="#checkboxes-radio-buttons-and-dropdown-selects">Checkboxes, radio buttons and dropdown selects</a></li>
      </ul>
    </li>
    <li><a href="#puppeteer-built-in-shortcuts">Puppeteer built-in shortcuts</a></li>
  </ul>
</nav>
        </div>
        <p>Any standard Node.js script that successfully finishes a Puppeteer session is a valid, passing browser check. However, in
many cases you want to validate whether the session is actually showing the right stuff to the user.</p>
<p>This is a two step process:</p>
<ol>
<li>Scrape the relevant item from the current page.</li>
<li>Assert that it shows what you expect.</li>
</ol>
<p>Puppeteer offers many ways to scrape elements like buttons, forms or any arbitrary HTML element. We've listed the most
used ones below, together with some tips on how to use them effectively. In each</p>
<h2 id="scraping-text-values">Scraping text values</h2>
<p>Puppeteer's <code>page.$eval()</code> method is a very powerful way to actually run a selector query inside a web page. See the example
below. Note, we are using the <code>chai.js</code> library for assertions here.</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">puppeteer</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;puppeteer&#39;</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">expect</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;chai&#39;</span><span class="p">)</span><span class="p">.</span><span class="nx">expect</span>

<span class="kr">const</span> <span class="nx">browser</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">puppeteer</span><span class="p">.</span><span class="nx">launch</span><span class="p">(</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">page</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">browser</span><span class="p">.</span><span class="nx">newPage</span><span class="p">(</span><span class="p">)</span>

<span class="nx">await</span> <span class="nx">page</span><span class="p">.</span><span class="kr">goto</span><span class="p">(</span><span class="s1">&#39;https://news.ycombinator.com/news&#39;</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">name</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">page</span><span class="p">.</span><span class="nx">$eval</span><span class="p">(</span><span class="s1">&#39;.hnname &gt; a&#39;</span><span class="p">,</span> <span class="nx">el</span> <span class="p">=&gt;</span> <span class="nx">el</span><span class="p">.</span><span class="nx">textContent</span><span class="p">.</span><span class="nx">trim</span><span class="p">(</span><span class="p">)</span><span class="p">)</span>
<span class="nx">expect</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="s2">&#34;Hacker News&#34;</span><span class="p">)</span>

<span class="nx">await</span> <span class="nx">browser</span><span class="p">.</span><span class="nx">close</span><span class="p">(</span><span class="p">)</span>
</code></pre></div><p>Ok, what's happening here</p>
<ol>
<li>We require all needed modules and load a page.</li>
<li>We use <code>$page.eval()</code> and pass it two arguments: 1) a query selector string 2) a callback to handle the resulting element.</li>
<li>We inspect the elements <code>textContent</code> property and use the <code>trim()</code> method to get rid of any trailing white space.</li>
<li>We validate that indeed the name is as expected.</li>
</ol>
<blockquote>
<p>Some may want to use the <code>innerText</code> property here, but <code>textContent</code> is <a href="https://stackoverflow.com/questions/35213147/difference-between-textcontent-vs-innertext">actually better</a></p>
</blockquote>
<h2 id="scraping-a-list-of-values">Scraping a list of values</h2>
<p>Using the <code>page.$$()</code> (notice the two dollar signs) we can scrape an array of elements in one go. You commonly use this
when the query selector you are providing targets multiple similar elements on a page, say a list of links:</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">puppeteer</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;puppeteer&#39;</span><span class="p">)</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">expect</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;chai&#39;</span><span class="p">)</span><span class="p">.</span><span class="nx">expect</span>

<span class="kr">const</span> <span class="nx">browser</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">puppeteer</span><span class="p">.</span><span class="nx">launch</span><span class="p">(</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">page</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">browser</span><span class="p">.</span><span class="nx">newPage</span><span class="p">(</span><span class="p">)</span>

<span class="nx">await</span> <span class="nx">page</span><span class="p">.</span><span class="kr">goto</span><span class="p">(</span><span class="s1">&#39;https://news.ycombinator.com/news&#39;</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">stories</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">page</span><span class="p">.</span><span class="nx">$$eval</span><span class="p">(</span><span class="s1">&#39;a.storylink&#39;</span><span class="p">,</span> <span class="nx">links</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">links</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">link</span> <span class="p">=&gt;</span> <span class="nx">link</span><span class="p">.</span><span class="nx">textContent</span><span class="p">)</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="p">}</span><span class="p">)</span>
<span class="nx">expect</span><span class="p">(</span><span class="nx">stories</span><span class="p">)</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">lengthOf</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="nx">expect</span><span class="p">(</span><span class="nx">stories</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="p">)</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">a</span><span class="p">(</span><span class="s1">&#39;string&#39;</span><span class="p">)</span>

<span class="nx">await</span> <span class="nx">browser</span><span class="p">.</span><span class="nx">close</span><span class="p">(</span><span class="p">)</span>
</code></pre></div><ol>
<li>We select all <code>&lt;a&gt;</code> elements that have the CSS class <code>storylink</code>.</li>
<li>We pass these into the callback and use the <code>map()</code> methods to return just the link text.</li>
<li>We slice of the first 10 items.</li>
</ol>
<h2 id="scraping-form-input-elements">Scraping form input elements</h2>
<h3 id="text-input-fields">Text input fields</h3>
<p>Use the <code>.value</code> property to get the text from an standard text input field.</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">puppeteer</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;puppeteer&#39;</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">expect</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;chai&#39;</span><span class="p">)</span><span class="p">.</span><span class="nx">expect</span>

<span class="kr">const</span> <span class="nx">browser</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">puppeteer</span><span class="p">.</span><span class="nx">launch</span><span class="p">(</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">page</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">browser</span><span class="p">.</span><span class="nx">newPage</span><span class="p">(</span><span class="p">)</span>

<span class="nx">await</span> <span class="nx">page</span><span class="p">.</span><span class="kr">goto</span><span class="p">(</span><span class="s1">&#39;https://duckduckgo.com/&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">waitUntil</span><span class="o">:</span> <span class="s1">&#39;networkidle2&#39;</span> <span class="p">}</span><span class="p">)</span>  
<span class="nx">await</span> <span class="nx">page</span><span class="p">.</span><span class="nx">type</span><span class="p">(</span><span class="s1">&#39;#search_form_input_homepage&#39;</span><span class="p">,</span> <span class="s1">&#39;Puppeteer&#39;</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">searchValue</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">page</span><span class="p">.</span><span class="nx">$eval</span><span class="p">(</span><span class="s1">&#39;#search_form_input_homepage&#39;</span><span class="p">,</span> <span class="nx">el</span> <span class="p">=&gt;</span> <span class="nx">el</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span><span class="p">;</span>
<span class="nx">expect</span><span class="p">(</span><span class="nx">searchValue</span><span class="p">)</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="s2">&#34;Puppeteer&#34;</span><span class="p">)</span>


<span class="nx">await</span> <span class="nx">browser</span><span class="p">.</span><span class="nx">close</span><span class="p">(</span><span class="p">)</span>
</code></pre></div><h3 id="checkboxes-radio-buttons-and-dropdown-selects">Checkboxes, radio buttons and dropdown selects</h3>
<p>Scraping the values of other common form elements is pretty similar to scraping text inputs, with a few quirks here and
there.</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">puppeteer</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;puppeteer&#39;</span><span class="p">)</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">browser</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">puppeteer</span><span class="p">.</span><span class="nx">launch</span><span class="p">(</span><span class="p">)</span>

<span class="kr">const</span> <span class="nx">page</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">browser</span><span class="p">.</span><span class="nx">newPage</span><span class="p">(</span><span class="p">)</span>
<span class="nx">await</span> <span class="nx">page</span><span class="p">.</span><span class="nx">setViewport</span><span class="p">(</span><span class="p">{</span> <span class="nx">width</span><span class="o">:</span> <span class="mi">1280</span><span class="p">,</span> <span class="nx">height</span><span class="o">:</span> <span class="mi">1800</span> <span class="p">}</span><span class="p">)</span>

<span class="nx">await</span> <span class="nx">page</span><span class="p">.</span><span class="kr">goto</span><span class="p">(</span><span class="s1">&#39;https://getbootstrap.com/docs/4.3/components/forms/#checkboxes-and-radios&#39;</span><span class="p">)</span>

<span class="c1">// Checkboxes
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">checkboxStatus</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">page</span><span class="p">.</span><span class="nx">$eval</span><span class="p">(</span><span class="s1">&#39;#defaultCheck1&#39;</span><span class="p">,</span> <span class="nx">input</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">input</span><span class="p">.</span><span class="nx">checked</span> <span class="p">}</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Checkbox checked status:&#39;</span><span class="p">,</span> <span class="nx">checkboxStatus</span><span class="p">)</span>

<span class="c1">// Radio buttons
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">radios</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">page</span><span class="p">.</span><span class="nx">$$eval</span><span class="p">(</span><span class="s1">&#39;input[name=&#34;exampleRadios&#34;]&#39;</span><span class="p">,</span> <span class="nx">inputs</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">inputs</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">input</span> <span class="p">=&gt;</span> <span class="nx">input</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span> <span class="p">}</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Radio values:&#39;</span><span class="p">,</span> <span class="nx">radios</span><span class="p">)</span>

<span class="nx">await</span> <span class="nx">page</span><span class="p">.</span><span class="kr">goto</span><span class="p">(</span><span class="s1">&#39;https://getbootstrap.com/docs/4.3/components/forms/#select-menu&#39;</span><span class="p">)</span>

<span class="c1">// Dropdown selects
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">selectOptions</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">page</span><span class="p">.</span><span class="nx">$$eval</span><span class="p">(</span><span class="s1">&#39;.bd-example &gt; select.custom-select.custom-select-lg.mb-3 &gt; option&#39;</span><span class="p">,</span> <span class="nx">options</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">options</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">option</span> <span class="p">=&gt;</span> <span class="nx">option</span><span class="p">.</span><span class="nx">value</span> <span class="p">)</span> <span class="p">}</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Select options are:&#39;</span><span class="p">,</span> <span class="nx">selectOptions</span><span class="p">)</span>

<span class="nx">await</span> <span class="nx">browser</span><span class="p">.</span><span class="nx">close</span><span class="p">(</span><span class="p">)</span>
</code></pre></div><p>Key takeaways are:</p>
<ol>
<li>Checkboxes are mostly singular items, use the <code>page.$eval()</code> method.</li>
<li>Radio buttons come in groups, use the <code>page.$$eval()</code> method and <code>.map()</code> over result.</li>
<li>For selects, you are probably interested in the nested <code>option</code> elements, not so much the parent <code>select</code> element. use
the <code>page.$$eval()</code> method.</li>
</ol>
<h2 id="puppeteer-built-in-shortcuts">Puppeteer built-in shortcuts</h2>
<p>Puppeteer offers some built-in shortcuts to access common elements of a typical webpage. For the full details see
<a href="https://pptr.dev/#?product=Puppeteer&amp;show=api-class-page">the Puppeteer docs</a>.</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="p">...</span>
<span class="nx">await</span> <span class="nx">page</span><span class="p">.</span><span class="kr">goto</span><span class="p">(</span><span class="s1">&#39;https://www.google.com/&#39;</span><span class="p">)</span>

<span class="c1">// grabs the page title
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">title</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">page</span><span class="p">.</span><span class="nx">title</span><span class="p">(</span><span class="p">)</span>

<span class="c1">// grabs the page&#39;s URL
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">page</span><span class="p">.</span><span class="nx">url</span><span class="p">(</span><span class="p">)</span>

<span class="c1">// return an object with the page&#39;s viewport setting
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">viewport</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">page</span><span class="p">.</span><span class="nx">viewport</span><span class="p">(</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;Page width is:&#34;</span><span class="p">,</span> <span class="nx">viewport</span><span class="p">.</span><span class="nx">width</span><span class="p">)</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">viewport</span><span class="p">.</span><span class="nx">isMobile</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;We&#39;re on mobile!&#34;</span><span class="p">)</span>
<span class="p">}</span>

</code></pre></div></article>
      <hr class="pt-2 mb-2" />
      
      <div class="text-right mb-4">
        <a href="https://checklyhq.com/docs/browser-checks/screenshots/">Next: Taking screenshots
        </a>
      </div>
      
    </div>
    
    <aside class="docs-toc">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#scraping-text-values">Scraping text values</a></li>
    <li><a href="#scraping-a-list-of-values">Scraping a list of values</a></li>
    <li><a href="#scraping-form-input-elements">Scraping form input elements</a>
      <ul>
        <li><a href="#text-input-fields">Text input fields</a></li>
        <li><a href="#checkboxes-radio-buttons-and-dropdown-selects">Checkboxes, radio buttons and dropdown selects</a></li>
      </ul>
    </li>
    <li><a href="#puppeteer-built-in-shortcuts">Puppeteer built-in shortcuts</a></li>
  </ul>
</nav>
    </aside>
    
  </div>

  
<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js"
        integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"
        integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb"
        crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js"
        integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script src="/js/index.js"></script>

  <script>
    docsearch({
      apiKey: 'b2b616fdea14b860ff00c72fa72bf267',
      indexName: 'checkly_docs',
      appId: 'LCMJSZN73Z',
      inputSelector: '#search',
      debug: false
    })
  </script>
</body>
</html>
