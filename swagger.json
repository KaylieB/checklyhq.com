{"swagger":"2.0","host":"localhost:3000","basePath":"/","schemes":["http"],"info":{"title":"Checkly API","version":"V1","description":"Checkly public API"},"securityDefinitions":{"Bearer":{"type":"apiKey","name":"Authorization","in":"header","x-keyPrefix":"Bearer "}},"security":[{"Bearer":[]}],"tags":[],"paths":{"/v1/check-results/{checkId}":{"get":{"summary":"Lists all check results","operationId":"getV1CheckresultsCheckid","parameters":[{"type":"string","x-format":{"guid":true},"name":"checkId","in":"path","required":true},{"type":"number","default":10,"minimum":1,"maximum":100,"name":"limit","in":"query"},{"type":"number","x-constraint":{"positive":true},"name":"page","in":"query"},{"type":"string","description":"Provide a data center location, e.g. \"eu-west-1\" to filter by location","name":"location","in":"query","required":false},{"type":"number","description":"Select results up to this UNIX timestamp date, i.e. < date","name":"to","in":"query","required":false},{"type":"number","description":"Select results from this UNIX timestamp date, i.e. >= date","name":"from","in":"query","required":false},{"type":"string","description":"The type of the check","enum":["BROWSER","API"],"name":"checkType","in":"query"},{"type":"boolean","description":"Check result has one or more failures","name":"hasFailures","in":"query"}],"tags":["Check results"],"responses":{"200":{"schema":{"$ref":"#/definitions/CheckResultsList","type":"array"},"description":"Successful"},"401":{"schema":{"type":"string"},"description":"Unauthorized"},"404":{"schema":{"type":"string"},"description":"Not Found"}}}},"/v1/check-results/{checkId}/{checkResultId}":{"get":{"summary":"Retrieve a check result","operationId":"getV1CheckresultsCheckidCheckresultid","description":"Show a specific check result for a specific check","parameters":[{"type":"string","x-format":{"guid":true},"name":"checkId","in":"path","required":true},{"type":"string","x-format":{"guid":true},"name":"checkResultId","in":"path","required":true}],"tags":["Check results"],"responses":{"200":{"schema":{"$ref":"#/definitions/CheckResult"},"description":"Successful"},"401":{"schema":{"type":"string"},"description":"Unauthorized"},"404":{"schema":{"type":"string"},"description":"Not Found"}}}},"/v1/check-statuses":{"get":{"summary":"List all check statuses","operationId":"getV1Checkstatuses","description":"Show the current status information for all checks in your account","tags":["Check status"],"responses":{"200":{"schema":{"$ref":"#/definitions/CheckStatusList","type":"array"},"description":"Successful"},"401":{"schema":{"type":"string"},"description":"Unauthorized"},"404":{"schema":{"type":"string"},"description":"Not Found"}}}},"/v1/check-statuses/{checkId}":{"get":{"summary":"Retrieve check status details","operationId":"getV1CheckstatusesCheckid","description":"Show the current status information for a specific check","parameters":[{"type":"string","x-format":{"guid":true},"name":"checkId","in":"path","required":true}],"tags":["Check status"],"responses":{"200":{"schema":{"$ref":"#/definitions/CheckStatus"},"description":"Successful"},"401":{"schema":{"type":"string"},"description":"Unauthorized"},"404":{"schema":{"type":"string"},"description":"Not Found"}}}},"/v1/checks":{"get":{"summary":"List all checks","operationId":"getV1Checks","parameters":[{"type":"number","default":10,"minimum":1,"maximum":100,"name":"limit","in":"query"},{"type":"number","x-constraint":{"positive":true},"name":"page","in":"query"}],"tags":["Checks"],"responses":{"200":{"schema":{"$ref":"#/definitions/CheckList","type":"array"},"description":"Successful"},"401":{"schema":{"type":"string"},"description":"Unauthorized"},"404":{"schema":{"type":"string"},"description":"Not Found"}}},"post":{"summary":"Create a check","operationId":"postV1Checks","description":"Creates a new API or browser check","parameters":[{"in":"body","name":"body","schema":{"$ref":"#/definitions/CheckCreate"}}],"tags":["Checks"],"responses":{"201":{"schema":{"$ref":"#/definitions/Check"},"description":"Created"},"401":{"schema":{"type":"string"},"description":"Unauthorized"},"402":{"schema":{"type":"string"},"description":"Payment Required"},"404":{"schema":{"type":"string"},"description":"Not Found"}}}},"/v1/checks/{id}":{"delete":{"summary":"Delete a check","operationId":"deleteV1ChecksId","description":"Permanently removes a API or browser check and all it underpinning data like results","parameters":[{"type":"string","x-format":{"guid":true},"name":"id","in":"path","required":true}],"tags":["Checks"],"responses":{"204":{"schema":{"type":"string"},"description":"No Content"},"401":{"schema":{"type":"string"},"description":"Unauthorized"},"404":{"schema":{"type":"string"},"description":"Not Found"}}},"get":{"summary":"Retrieve a check","operationId":"getV1ChecksId","description":"Show details of a specific API or browser check","parameters":[{"type":"string","x-format":{"guid":true},"name":"id","in":"path","required":true}],"tags":["Checks"],"responses":{"200":{"schema":{"$ref":"#/definitions/Check"},"description":"Successful"},"401":{"schema":{"type":"string"},"description":"Unauthorized"},"404":{"schema":{"type":"string"},"description":"Not Found"}}},"put":{"summary":"Update a check","operationId":"putV1ChecksId","description":"Updates a new API or browser check","parameters":[{"type":"string","x-format":{"guid":true},"name":"id","in":"path","required":true},{"in":"body","name":"body","schema":{"$ref":"#/definitions/CheckCreate"}}],"tags":["Checks"],"responses":{"200":{"schema":{"$ref":"#/definitions/Check"},"description":"Successful"},"401":{"schema":{"type":"string"},"description":"Unauthorized"},"404":{"schema":{"type":"string"},"description":"Not Found"}}}},"/v1/snippets":{"get":{"summary":"List all snippets","operationId":"getV1Snippets","parameters":[{"type":"number","default":10,"minimum":1,"maximum":100,"name":"limit","in":"query"},{"type":"number","x-constraint":{"positive":true},"name":"page","in":"query"}],"tags":["Snippets"],"responses":{"200":{"schema":{"$ref":"#/definitions/SnippetsList","type":"array"},"description":"Successful"},"401":{"schema":{"type":"string"},"description":"Unauthorized"},"404":{"schema":{"type":"string"},"description":"Not Found"}}},"post":{"summary":"Create a snippet","operationId":"postV1Snippets","description":"Creates a new code snippet","parameters":[{"in":"body","name":"body","schema":{"$ref":"#/definitions/SnippetCreate"}}],"tags":["Snippets"],"responses":{"201":{"schema":{"$ref":"#/definitions/Snippet"},"description":"Created"},"401":{"schema":{"type":"string"},"description":"Unauthorized"},"404":{"schema":{"type":"string"},"description":"Not Found"}}}},"/v1/snippets/{id}":{"delete":{"summary":"Delete a snippet","operationId":"deleteV1SnippetsId","parameters":[{"type":"number","name":"id","in":"path","required":true}],"tags":["Snippets"],"responses":{"204":{"schema":{"type":"string"},"description":"No Content"},"401":{"schema":{"type":"string"},"description":"Unauthorized"},"404":{"schema":{"type":"string"},"description":"Not Found"}}},"get":{"summary":"Retrieve a snippet","operationId":"getV1SnippetsId","description":"Show details of a specific snippet","parameters":[{"type":"number","name":"id","in":"path","required":true}],"tags":["Snippets"],"responses":{"200":{"schema":{"$ref":"#/definitions/Snippet"},"description":"Successful"},"401":{"schema":{"type":"string"},"description":"Unauthorized"},"404":{"schema":{"type":"string"},"description":"Not Found"}}},"put":{"summary":"Update a snippet","operationId":"putV1SnippetsId","description":"Update a code snippet","parameters":[{"type":"number","name":"id","in":"path","required":true},{"in":"body","name":"body","schema":{"$ref":"#/definitions/SnippetCreate"}}],"tags":["Snippets"],"responses":{"200":{"schema":{"$ref":"#/definitions/Snippet"},"description":"Successful"},"401":{"schema":{"type":"string"},"description":"Unauthorized"},"404":{"schema":{"type":"string"},"description":"Not Found"}}}}},"definitions":{"apiCheckResult":{"type":"object"},"browserCheckResult":{"type":"object"},"CheckResult":{"type":"object","properties":{"id":{"type":"string","description":"The unique ID of this result"},"name":{"type":"string","description":"The name of the check"},"checkId":{"type":"string","description":"The ID of the check"},"hasFailures":{"type":"boolean","description":"Describes if any failure has occurred during this check run. This is should be your mainmain focus for assessing API or browser check behaviour. Assertions that fail, timeouts or failing scripts all resolve tothis value being true"},"hasErrors":{"type":"boolean","description":"Describes if an internal error has occured in Checkly's backend. This should be false in almost all cases."},"runLocation":{"type":"string","description":"What datacenter location this check result originated from"},"startedAt":{"type":"string","format":"date"},"stoppedAt":{"type":"string","format":"date"},"created_at":{"type":"string","format":"date"},"responseTime":{"type":"number","description":"Describes the time it took to execute relevant parts of this check. Any setup timeor system time needed to start executing this check in the Checkly backend is not part of this."},"apiCheckResult":{"$ref":"#/definitions/apiCheckResult"},"browserCheckResult":{"$ref":"#/definitions/browserCheckResult"},"checkRunId":{"type":"number","description":"The id of the specific check run that created this check result"},"attempts":{"type":"number","description":"How often this check was retried. This will be larger than 0 when double checking is enabled"}}},"CheckResultsList":{"type":"array","items":{"$ref":"#/definitions/CheckResult"}},"CheckStatus":{"type":"object","properties":{"checkId":{"type":"string","description":"The ID of check this status belongs to"},"hasFailures":{"type":"boolean","description":"Describes if this check is currently failing. If any of the assertions for an API checkfail this value is true. If a browser check fails for whatever reason, this is true"},"hasErrors":{"type":"boolean","description":"Describes if due to some error outside of normal operation this check is failing. This should be extremely rare and only when there is an error in the Checkly backend"},"longestRun":{"type":"number","description":"The longest ever recorded response time for this check"},"shortestRun":{"type":"number","description":"The shortest ever recorded response time for this check"},"lastRunLocation":{"type":"string","description":"What location this check was last run at"},"lastCheckRunId":{"type":"string","description":"The unique incrementing ID for each check run"},"sslDaysRemaining":{"type":"number","description":"How many days remain till the current SSL certifacte expires"},"created_at":{"type":"string","format":"date"},"updated_at":{"type":"string","format":"date"}}},"CheckStatusList":{"type":"array","items":{"$ref":"#/definitions/CheckStatus"}},"Locations":{"type":"array","description":"An array of one or more data center locations where to run the this check","minItems":1,"maxItems":8,"items":{"type":"string"}},"KeyValue":{"type":"object","properties":{"key":{"type":"string"},"value":{"type":"string","default":""},"locked":{"type":"boolean","default":false}},"required":["key","value"]},"Headers":{"type":"array","items":{"$ref":"#/definitions/KeyValue"}},"QueryParameters":{"type":"array","items":{"$ref":"#/definitions/KeyValue"}},"assertions":{"type":"array","items":{"type":"string"}},"basicAuth":{"type":"object","properties":{"username":{"type":"string","default":""},"password":{"type":"string","default":""}}},"Request":{"type":"object","properties":{"method":{"type":"string","default":"GET","enum":["GET","POST","PUT","HEAD","DELETE","PATCH"]},"url":{"type":"string","default":"localhost"},"followRedirects":{"type":"boolean"},"body":{"type":"string"},"bodyType":{"type":"string","default":"JSON","enum":["JSON","FORM","RAW"]},"headers":{"$ref":"#/definitions/Headers","type":"array"},"queryParameters":{"$ref":"#/definitions/QueryParameters","type":"array"},"assertions":{"$ref":"#/definitions/assertions","type":"array"},"basicAuth":{"$ref":"#/definitions/basicAuth"}},"required":["method","url"]},"EnvironmentVariable":{"type":"object","properties":{"key":{"type":"string"},"value":{"type":"string","default":""},"locked":{"type":"boolean","description":"Used only in the UI to hide the value like a password ","default":false}},"required":["key","value"]},"EnvironmentVariables":{"type":"array","description":"Key/value pairs for setting environment variables during check execution","items":{"$ref":"#/definitions/EnvironmentVariable"}},"Tags":{"type":"array","description":"Tags for organizing and filtering checks","items":{"type":"string"}},"runBasedEscalation":{"type":"object","properties":{"failedRunThreshold":{"type":"number","description":"After how many failed consecutive check runs an alert notification should be send","enum":[1,2,3,4,5]}}},"timeBasedEscalation":{"type":"object","properties":{"minutesFailingThreshold":{"type":"number","description":"After how many minutes after a check starts failing an alert should be send","enum":[5,10,15,30]}}},"reminders":{"type":"object","properties":{"amount":{"type":"number","description":"How many reminders to send out after the initial alert notification","enum":[0,1,2,3,4,5]},"interval":{"type":"number","description":"At what interval the reminders should be send","enum":[5,10,15,30]}}},"sslCertificates":{"type":"object","properties":{"enabled":{"type":"boolean","description":"Determines if alert notifications should be send for expiring SSL certificates","default":true},"alertThreshold":{"type":"number","description":"At what moment in time to start alerting on SSL certificates","enum":[3,7,14,30]}}},"AlertSettingsSchema":{"type":"object","properties":{"escalationType":{"type":"string","description":"Determines what type of escalation to use","enum":["RUN_BASED","TIME_BASED"]},"runBasedEscalation":{"$ref":"#/definitions/runBasedEscalation"},"timeBasedEscalation":{"$ref":"#/definitions/timeBasedEscalation"},"reminders":{"$ref":"#/definitions/reminders"},"sslCertificates":{"$ref":"#/definitions/sslCertificates"}}},"Check":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string","description":"The name of the check"},"checkType":{"type":"string","description":"The type of the check","enum":["BROWSER","API"]},"frequency":{"type":"number","description":"how often the check should run in minutes"},"activated":{"type":"boolean","description":"Determines if the check is running or not","default":true},"muted":{"type":"boolean","description":"Determines if any notifications will be send out when a check fails and/or recovers","default":false},"doubleCheck":{"type":"boolean","description":"Setting this to \"true\" will trigger a retry when a check fails from the failing region and another, randomly selected region before marking the check as failed","default":true},"sslCheck":{"type":"boolean","description":"Determines if the SSL certificate should be validated for expiry"},"sslCheckDomain":{"type":"string","description":"Provides the domain for the SSLCheck option"},"shouldFail":{"type":"boolean","description":"Allows to invert the behaviour of when a check is considered to fail. Allows for validating error status like 404"},"locations":{"$ref":"#/definitions/Locations","type":"array"},"request":{"$ref":"#/definitions/Request","required":["Request"],"optional":["request"],"x-alternatives":[{"$ref":"#/x-alt-definitions/Request"},{"$ref":"#/x-alt-definitions/request"}]},"script":{"type":"string","description":"A valid piece of Node.js javascript code describing a browser interaction with the Puppeteer framework.","required":["script"],"optional":["script"],"x-alternatives":[{"type":"string","description":"A valid piece of Node.js javascript code describing a browser interaction with the Puppeteer framework."},{"type":"string"}]},"environmentVariables":{"$ref":"#/definitions/EnvironmentVariables","type":"array","optional":["EnvironmentVariables","EnvironmentVariables"],"x-alternatives":[{"$ref":"#/x-alt-definitions/EnvironmentVariables","type":"array"},{"$ref":"#/x-alt-definitions/Model 1"}]},"tags":{"$ref":"#/definitions/Tags","type":"array"},"setupSnippetId":{"type":"number","description":"An ID reference to a snippet to use in the setup phase of an API check"},"tearDownSnippetId":{"type":"number","description":"An ID reference to a snippet to use in the teardown phase of an API check"},"localSetupScript":{"type":"string","description":"A valid piece of Node.js code to run in the setup phase"},"localTearDownScript":{"type":"string","description":"A valid piece of Node.js code to run in the teardown phase"},"alertSettings":{"$ref":"#/definitions/AlertSettingsSchema"},"useGlobalAlertSettings":{"type":"boolean","description":"When true, the account level alert setting will be used, not the alert setting defined on this check"},"created_at":{"type":"string","format":"date"},"updated_at":{"type":"string","format":"date"}}},"CheckList":{"type":"array","items":{"$ref":"#/definitions/Check"}},"AlertEmail":{"type":"object","properties":{"address":{"type":"string","default":""}},"required":["address"]},"email":{"type":"array","items":{"$ref":"#/definitions/AlertEmail"}},"AlertWebhook":{"type":"object","properties":{"name":{"type":"string","default":""},"url":{"type":"string","default":""}},"required":["url"]},"webhook":{"type":"array","items":{"$ref":"#/definitions/AlertWebhook"}},"AlertSlack":{"type":"object","properties":{"url":{"type":"string","default":""}},"required":["url"]},"slack":{"type":"array","items":{"$ref":"#/definitions/AlertSlack"}},"AlertSms":{"type":"object","properties":{"number":{"type":"string","default":""},"name":{"type":"string"}},"required":["number","name"]},"sms":{"type":"array","items":{"$ref":"#/definitions/AlertSms"}},"AlertChannels":{"type":"object","properties":{"email":{"$ref":"#/definitions/email","type":"array"},"webhook":{"$ref":"#/definitions/webhook","type":"array"},"slack":{"$ref":"#/definitions/slack","type":"array"},"sms":{"$ref":"#/definitions/sms","type":"array"}}},"CheckCreate":{"type":"object","properties":{"name":{"type":"string","description":"The name of the check"},"checkType":{"type":"string","description":"The type of the check","enum":["BROWSER","API"]},"frequency":{"type":"number","description":"how often the check should run in minutes"},"activated":{"type":"boolean","description":"Determines if the check is running or not","default":true},"muted":{"type":"boolean","description":"Determines if any notifications will be send out when a check fails and/or recovers","default":false},"doubleCheck":{"type":"boolean","description":"Setting this to \"true\" will trigger a retry when a check fails from the failing region and another, randomly selected region before marking the check as failed","default":true},"sslCheck":{"type":"boolean","description":"Determines if the SSL certificate should be validated for expiry"},"sslCheckDomain":{"type":"string","description":"Provides the domain for the SSLCheck option"},"shouldFail":{"type":"boolean","description":"Allows to invert the behaviour of when a check is considered to fail. Allows for validating error status like 404"},"locations":{"$ref":"#/definitions/Locations","type":"array"},"request":{"$ref":"#/definitions/Request","required":["Request"],"optional":["request"],"x-alternatives":[{"$ref":"#/x-alt-definitions/Request"},{"$ref":"#/x-alt-definitions/request"}]},"script":{"type":"string","description":"A valid piece of Node.js javascript code describing a browser interaction with the Puppeteer framework.","required":["script"],"optional":["script"],"x-alternatives":[{"type":"string","description":"A valid piece of Node.js javascript code describing a browser interaction with the Puppeteer framework."},{"type":"string"}]},"environmentVariables":{"$ref":"#/definitions/EnvironmentVariables","type":"array","optional":["EnvironmentVariables"],"x-alternatives":[{"$ref":"#/x-alt-definitions/EnvironmentVariables","type":"array"},{"$ref":"#/x-alt-definitions/Model 1"}]},"alertChannels":{"$ref":"#/definitions/AlertChannels"},"tags":{"$ref":"#/definitions/Tags","type":"array"},"setupSnippetId":{"type":"number","description":"An ID reference to a snippet to use in the setup phase of an API check"},"tearDownSnippetId":{"type":"number","description":"An ID reference to a snippet to use in the teardown phase of an API check"},"localSetupScript":{"type":"string","description":"A valid piece of Node.js code to run in the setup phase"},"localTearDownScript":{"type":"string","description":"A valid piece of Node.js code to run in the teardown phase"},"alertSettings":{"$ref":"#/definitions/AlertSettingsSchema"},"useGlobalAlertSettings":{"type":"boolean","description":"When true, the account level alert setting will be used, not the alert setting defined on this check"}},"required":["name","checkType","activated"]},"Snippet":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string","description":"The snippet name"},"script":{"type":"string","description":"Your Node.js code that interacts with the API check lifecycle, or functions as a partial for browser checks."},"created_at":{"type":"string","format":"date"},"updated_at":{"type":"string","format":"date"}}},"SnippetsList":{"type":"array","items":{"$ref":"#/definitions/Snippet"}},"SnippetCreate":{"type":"object","properties":{"name":{"type":"string","description":"The snippet name"},"script":{"type":"string","description":"Your Node.js code that interacts with the API check lifecycle, or functions as a partial for browser checks."}},"required":["name","script"]}},"x-alt-definitions":{"KeyValue":{"type":"object","properties":{"key":{"type":"string"},"value":{"type":"string","default":""},"locked":{"type":"boolean","default":false}},"required":["key","value"]},"Headers":{"type":"array","items":{"$ref":"#/x-alt-definitions/KeyValue"}},"QueryParameters":{"type":"array","items":{"$ref":"#/x-alt-definitions/KeyValue"}},"assertions":{"type":"array","items":{"type":"string"}},"basicAuth":{"type":"object","properties":{"username":{"type":"string","default":""},"password":{"type":"string","default":""}}},"Request":{"type":"object","properties":{"method":{"type":"string","default":"GET","enum":["GET","POST","PUT","HEAD","DELETE","PATCH"]},"url":{"type":"string","default":"localhost"},"followRedirects":{"type":"boolean"},"body":{"type":"string"},"bodyType":{"type":"string","default":"JSON","enum":["JSON","FORM","RAW"]},"headers":{"$ref":"#/x-alt-definitions/Headers","type":"array"},"queryParameters":{"$ref":"#/x-alt-definitions/QueryParameters","type":"array"},"assertions":{"$ref":"#/x-alt-definitions/assertions","type":"array"},"basicAuth":{"$ref":"#/x-alt-definitions/basicAuth"}},"required":["method","url"]},"request":{"type":"object"},"EnvironmentVariable":{"type":"object","properties":{"key":{"type":"string"},"value":{"type":"string","default":""},"locked":{"type":"boolean","description":"Used only in the UI to hide the value like a password ","default":false}},"required":["key","value"]},"EnvironmentVariables":{"type":"array","description":"Key/value pairs for setting environment variables during check execution","items":{"$ref":"#/x-alt-definitions/EnvironmentVariable"}},"Model 1":{"type":"object"}}}